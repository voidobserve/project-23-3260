C51 COMPILER V9.60.7.0   MAIN                                                              11/11/2024 17:38:30 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Release\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\..\User\main.c LARGE OPTIMIZE(8,SPEED) BROWSE INTVECTOR(0X000C) INCDI
                    -R(..\..\Libraries\Include;..\..\User;..\..\User\lib;..\..\Hardware) INTERVAL(3) DEBUG OBJECTEXTEND PRINT(.\Release\Listi
                    -ngs\main.lst) OBJECT(.\Release\Objects\main.obj)

line level    source

   1          /**
   2           ******************************************************************************
   3           * @file    main.c
   4           * @author  HUGE-IC Application Team
   5           * @version V1.0.0
   6           * @date    05-11-2022
   7           * @brief   Main program body
   8           ******************************************************************************
   9           * @attention
  10           *
  11           * <h2><center>&copy; COPYRIGHT 2021 HUGE-IC</center></h2>
  12           *
  13           * 版权说明后续补上
  14           *
  15           ******************************************************************************
  16           */
  17          
  18          /* Includes ------------------------------------------------------------------*/
  19          #include <stdio.h>
  20          #include "include.h"
  21          #include "my_config.h"
  22          
  23          /** @addtogroup Template_Project
  24           * @{
  25           */
  26          
  27          /* Private typedef -----------------------------------------------------------*/
  28          /* Private define ------------------------------------------------------------*/
  29          /* Private macro -------------------------------------------------------------*/
  30          /* Private variables ---------------------------------------------------------*/
  31          /* Private function prototypes -----------------------------------------------*/
  32          /* Private functions ---------------------------------------------------------*/
  33          
  34          void main(void)
  35          {
  36   1          // 看门狗默认打开, 复位时间2s
  37   1          system_init();
  38   1      
  39   1          WDT_KEY = WDT_KEY_VAL(0xDD); //  关闭看门狗
  40   1      
  41   1          // 关闭HCK和HDA的调试功能:
  42   1          WDT_KEY = 0x55;
  43   1          IO_MAP &= ~0x01;
  44   1          WDT_KEY = 0xBB;
  45   1      
  46   1          send_keyval_pin_init();   // 初始化键值的发送引脚
  47   1          send_keyval_timer_init(); // 初始化发送键值的引脚所使用到的定时器，定时器默认关闭
  48   1      
  49   1          // tmr1_enable(); // 打开发送键值的引脚所使用到的定时器，测试用，看看定时器中断是否按配置的时间触发
  50   1      
  51   1          // tmr3_config(); // 配置定时器，每10ms产生一次中断，对应的计数值+1，用来判断按键的短按、长按和持续
  52   1      
  53   1          aip650_config();
C51 COMPILER V9.60.7.0   MAIN                                                              11/11/2024 17:38:30 PAGE 2   

  54   1      
  55   1          /* 按键初始化 */
  56   1          tk_param_init();
  57   1      
  58   1          uart0_config(); // 调试使用到的串口
  59   1      
  60   1          /* 系统主循环 */
  61   1          while (1)
  62   1          {
  63   2              /* 按键扫描函数 */
  64   2              __tk_scan(); // 使用了库里面的接口（闭源库）
  65   2      
  66   2              /* 用户循环扫描函数接口 */
  67   2              user_handle();
  68   2      
  69   2              aip650_show_data(14, 15);
  70   2              aip650_show_refresh();
  71   2              // delay_ms(500);
  72   2      
  73   2              // aip650_show_buff[1] = 0x80;
  74   2      
  75   2              // aip650_show_led_of_touch(0x1F);
  76   2              // aip650_show_refresh();
  77   2              // delay_ms(500);
  78   2      
  79   2              // /* 喂狗 :建议不要关闭看门狗，默认2s复位*/
  80   2              // WDT_KEY = WDT_KEY_VAL(0xAA);
  81   2          }
  82   1      }
  83          
  84          /**
  85           * @}
  86           */
  87          
  88          /*************************** (C) COPYRIGHT 2022 HUGE-IC ***** END OF FILE *****/


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     52    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
